# Shizuka Type

あなたのタイピングが「うるさいかどうか」を客観的にチェックできるWebアプリケーション

## 🎯 サービス概要

Shizuka Typeは、タイピング音量を測定して周囲への配慮をサポートする音量チェッカーです。在宅ワーク・オフィス・カフェなど、周囲に配慮したい環境でご利用いただけます。

### 主な機能

- **客観的音量測定**: 環境音を基準とした相対評価方式
- **3段階評価**: 静か・普通・うるさいの判定
- **リアルタイム表示**: 測定中の音量を視覚的に確認
- **プライバシー重視**: すべての音声データはローカル処理
- **直感的UI**: 分かりやすい結果表示とグラフ

## 📊 測定ロジック

### 判定基準

- **静か（0-5回）**: 図書館レベルの静かさ
- **普通（6-15回）**: 一般的なオフィスレベル  
- **うるさい（16回以上）**: 道路・工事現場レベル

### 測定フロー

1. **環境音測定**: 5秒間の平均音量を基準値として記録
2. **タイピング測定**: 30秒間の音量測定
3. **相対判定**: `基準値 + 15dB以上`の音をタイピング音として検出

## 🚀 使用方法

### 1. 測定開始

- 「🎤 測定開始」ボタンをクリック
- ブラウザのマイクアクセス権限を許可

### 2. 環境音測定

- 3秒間静かにして周囲の環境音を測定
- 基準値として記録されます

### 3. タイピング測定

- 15秒間、普段通りにタイピング
- リアルタイムで音量バーを確認

### 4. 結果確認

- 3段階評価と詳細なグラフを表示
- 音量推移と検出ポイントを確認

## ⚙️ 技術スタック

- **フロントエンド**: Nuxt 3 + Vue.js
- **言語**: TypeScript
- **スタイリング**: Tailwind CSS
- **音声処理**: Web Audio API
- **グラフ描画**: Chart.js
- **コード品質**: Biome + Lefthook
- **パッケージマネージャー**: pnpm

## 🛠️ 開発環境セットアップ

### 依存関係のインストール

```bash
pnpm install
```

### 開発サーバーの起動

```bash
pnpm dev
```

開発サーバーは `http://localhost:3000` で起動します。

## 📝 コード品質管理

### Biome によるコードチェック

```bash
# コードチェック
pnpm lint

# コードチェックと自動修正
pnpm lint:fix

# コードフォーマット
pnpm format

# コードフォーマットと自動修正
pnpm format:fix
```

### Lefthook によるGitフック

コミット時に自動的にコードチェックとフォーマットが実行されます：

```bash
# 手動でpre-commitフックを実行
pnpm lefthook run pre-commit

# Lefthookの管理
pnpm lefthook
```

## 🧪 テスト

```bash
# テストの実行
pnpm test

# テストの監視モード
pnpm test:watch
```

## 🏗️ ビルド

### 本番用ビルド

```bash
pnpm build
```

### 本番ビルドのプレビュー

```bash
pnpm preview
```

## 📁 プロジェクト構造

```md
shizuka-type/
├── components/          # Vueコンポーネント
│   ├── AppHeader.vue   # ヘッダーコンポーネント
│   ├── AppFooter.vue   # フッターコンポーネント
│   ├── AudioChart.vue  # 音声グラフコンポーネント
│   └── ...
├── composables/         # コンポーザブル関数
│   ├── useAudioAnalyzer.ts    # 音声解析ロジック
│   ├── useEnvironmentDetection.ts # 環境検出
│   └── useMeasurement.ts      # 測定ロジック
├── layouts/            # レイアウトコンポーネント
├── pages/              # ページコンポーネント
│   ├── index.vue       # ホームページ
│   ├── measure.vue     # 測定ページ
│   └── result.vue      # 結果ページ
├── public/             # 静的ファイル
├── test/               # テストファイル
├── utils/              # ユーティリティ関数
├── biome.json          # Biome設定
├── lefthook.yml        # Lefthook設定
├── nuxt.config.ts      # Nuxt設定
├── tailwind.config.ts  # Tailwind CSS設定
└── tsconfig.json       # TypeScript設定
```

## 🔧 設定ファイル

### Biome設定 (`biome.json`)

- スペースインデント（2スペース）
- シングルクォート
- セミコロンは必要に応じて
- 未使用変数のエラー
- 型安全性の警告

### Tailwind CSS設定 (`tailwind.config.ts`)

- カスタムプライマリカラー
- Nuxt.jsプロジェクト構造に対応したコンテンツパス

## 🌐 対応環境

### 推奨ブラウザ

- **Chrome**: 最優先対応
- **Firefox**: 基本対応
- **Safari**: 基本対応
- **Edge**: 基本対応

### 非対応環境

- **モバイル**: スマートフォン・タブレットは非対応
- **古いブラウザ**: Web Audio API非対応ブラウザ

## 🔒 プライバシー

- すべての音声データはブラウザ内で処理
- サーバーへの音声データ送信は一切ありません
- 測定結果の保存・共有機能はありません
- プライバシーを最優先に設計

## 📋 測定前の準備

### 環境設定

- 周囲が静かな環境（40dB未満推奨）
- マイクとキーボードの距離は50cm程度
- デスクトップPC・ノートPCでの使用を推奨

### 測定時の注意

- 測定中は会話や他の音を避ける
- 普段通りのタイピングを行う
- マイク音量は50%程度に設定

## 🚀 今後の開発予定

### 測定精度向上

- 誤検出対策（咳、くしゃみ、マウスクリック除外）
- 測定失敗時の再測定フロー
- 異なるマイク性能への対応

### ユーザビリティ向上

- タイピング課題文の提供
- 中断・再開機能
- 測定データ異常時の対応

### その他機能

- SNSシェア機能
- 他ユーザーとの比較
- 静音キーボード推奨
